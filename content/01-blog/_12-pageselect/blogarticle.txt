# Custom field type pageselect for Kirby Panel

I have build a new field type. Its a select-box with all available pages.

For those who don't know what i'm talking about:
(link: http://getkirby.com/ text: Kirby) is a Content Management System. (link: http://getkirby.com/docs/panel text: Panel) is Kirbys backend.

The Kirby Panel gives the abillity to extend the default set of backend field types such as text, textarea, checkbox and so on. Bastian has build a field called (link: http://getkirby.com/blog/panel-tags-field text: tags) for example.

So with my new fils type i'm able to select any of my pages via a select-box, and save it's uri in my `.txt` file.

### Application example

I'm working on a nue website, that has a set of three boxes on the startpage, which teasers various subpages. Each box shows an image, the title and a text-excerpt.

(image: three-boxes.png link: three-boxes.png)

For this reased i built the new field type. My blueprint-file for the start-page (`site/panel/blueprints/home.php`) looks like this:

<pre class="language-plain"><code>box1:
  label: Box Nr. 1
  type: pageselect
box2:
  label: Box Nr. 2
  type: pageselect
box3:
  label: Box Nr. 3
  type: pageselect</code></pre>

This will generate a panel form like this:

(image: kirby-panel-page-select.png link: kirby-panel-page-select.png)

And this is the generated content-file (`content/home/home.txt`):

<pre class="language-plain"><code>box1:

----

Box1: projekte

----

Box2: firma/projekt2

----

Box3: privat/projekt1</code></pre>

This makes it easy to grap all the content from the listed files. In my template-file (`site/templates/home.php`) i can now handle it like this:

<pre class="language-php"><code><?php $item = $pages->find($page->box1()); ?>
<?php if($item->hasImages()) : ?>
  <?php
    $imgurl = thumb( $item->images()->first(), array(
      'width' => 400,
      'height' => 280,
      'quality' => 90,
      'crop' => true
    ), false);
  ?>
  <a href="<?php echo $item->url() ?>">
    <img src="<?php echo $imgurl ?>">
  </a>
<?php endif; ?>
<h4><a href="<?php echo $item->url() ?>"><?php echo html($item->title()); ?></a></h4>
<?php echo excerpt($item->text(), 80); ?></code></pre>

If you're wondering about the thumb-function – that's another useful (link: http://getkirby.com/blog/thumb-plugin text: kirby-plugin).

### Fork it

The pageselect-files are (link: https://github.com/DerZyklop/kirbycms-pageselect text: available at GitHub). Fork it. Extend it. Questions? Ask.
